<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Evaluación de Programas 2024 - Respuestas a la tarea 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Respuestas a la tarea 3</li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../iconoEvaluaciondeProgramasSociales.jpg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://github.com/rojasirvin/evaluacion-de-programas" title="GitHub" class="quarto-navigation-tool px-1" aria-label="GitHub"><i class="bi bi-github"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../programa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programa</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reglas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reglas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lecturas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecturas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../presentaciones.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Presentaciones</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cronograma.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cronograma</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tareas/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tareas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notas/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../diapositivas/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diapositivas</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">En esta página</h2>
   
  <ul>
  <li><a href="#respuestas" id="toc-respuestas" class="nav-link active" data-scroll-target="#respuestas">Respuestas</a>
  <ul class="collapse">
  <li><a href="#pregunta-1" id="toc-pregunta-1" class="nav-link" data-scroll-target="#pregunta-1">Pregunta 1</a></li>
  <li><a href="#pregunta-2" id="toc-pregunta-2" class="nav-link" data-scroll-target="#pregunta-2">Pregunta 2</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Respuestas a la tarea 3</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="respuestas" class="level1">
<h1>Respuestas</h1>
<section id="pregunta-1" class="level2">
<h2 class="anchored" data-anchor-id="pregunta-1">Pregunta 1</h2>
<p>Stevenson, B. &amp; Wolfers, J. (2006)<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> estudian los efectos de la introducción de leyes que permiten el divorcio unilateral en los Estados Unidos. La librería <em>bacondecomp</em> incluye los datos usados en dicho artículo (debe instalar y cargar la librería). Usaremos los datos de 1964 a 1996 para mostrar cómo impactan las leyes de divorcio express (unilateral) a la tasa de suicidios en mujeres.</p>
<p>Al correr el pedazo de código anterior, obtendrá un objeto de datos <strong>wd</strong> en donde la variable de impacto es la tasa de suicidios en mujeres, <strong>suicide_rate</strong>, <strong>st</strong> identifica a los estados, <strong>year</strong> identifica a los años y <strong>divyear</strong> es el año en que se introdujo la legislación del divorcio unilateral. La última fila del código crea el indicador de tratamiento <strong>unilaterial</strong>, que toma el valor de 1 para los estados tratados en los periodos post tratamiento.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>wd <span class="ot">&lt;-</span> divorce <span class="sc">%&gt;%</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(year<span class="sc">&gt;=</span><span class="dv">1964</span> <span class="sc">&amp;</span> year<span class="sc">&lt;=</span><span class="dv">1996</span> <span class="sc">&amp;</span> sex<span class="sc">==</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">suicide_rate=</span>suicide<span class="sc">*</span><span class="dv">1000000</span><span class="sc">/</span>(stpop<span class="sc">*</span>fshare),</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>   <span class="at">year=</span><span class="fu">as.numeric</span>(year),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">divyear =</span> <span class="fu">ifelse</span>(divyear<span class="sc">&gt;</span><span class="dv">1996</span>, <span class="cn">Inf</span>, divyear),</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>   <span class="at">unilateral=</span><span class="fu">ifelse</span>(year<span class="sc">&gt;</span>divyear, <span class="dv">1</span>, <span class="dv">0</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="a">
<li><p>[5 puntos] Presente una tabla donde muestre el número de estados que es tratado en cada periodo del panel. ¿Cuántos estados son nunca tratados? ¿Cuántos estados son siempre tratados?</p>
<p><em>Si hacemos un tabulado de <strong>divyear</strong> para un año fijo, notamos cuántos estados se vuelven tratados en cada año. Solo 5 estados son nunca tratados. Por otro lado, como el panel comienza en 1964 y hay 9 estados tratados en 1950, estos 9 estados son siempre tratados.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">filter</span>(wd, year<span class="sc">==</span><span class="dv">1996</span>)<span class="sc">$</span>divyear)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
1950 1969 1970 1971 1972 1973 1974 1975 1976 1977 1980 1984 1985  Inf 
   9    2    2    7    3   11    3    2    1    3    1    1    1    5 </code></pre>
</div>
</div></li>
<li><p>[5 puntos] Como punto de partida, estime el efecto del tratamiento sobre <strong>suicide_rate</strong> usando efectos fijos por estado y año (TWFE) y empleando una librería específica para efectos fijos, como <em>felm</em>. Tome en cuenta la agrupación de los errores. Interprete sus resultados.</p>
<p><em>Usando felm podemos incorporar ya el nivel de agrupación de los errores:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">felm</span>(suicide_rate <span class="sc">~</span> unilateral <span class="sc">|</span> st <span class="sc">+</span> year <span class="sc">|</span> <span class="dv">0</span> <span class="sc">|</span> st,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> wd))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
   felm(formula = suicide_rate ~ unilateral | st + year | 0 | st,      data = wd) 

Residuals:
    Min      1Q  Median      3Q     Max 
-37.517  -6.157  -0.141   5.577  57.004 

Coefficients:
           Estimate Cluster s.e. t value Pr(&gt;|t|)  
unilateral   -3.777        2.201  -1.716   0.0923 .
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 10.85 on 1599 degrees of freedom
Multiple R-squared(full model): 0.6844   Adjusted R-squared: 0.668 
Multiple R-squared(proj model): 0.007963   Adjusted R-squared: -0.04353 
F-statistic(full model, *iid*):41.77 on 83 and 1599 DF, p-value: &lt; 2.2e-16 
F-statistic(proj model): 2.945 on 1 and 50 DF, p-value: 0.09231 </code></pre>
</div>
</div></li>
<li><p>[5 puntos] Compruebe que puede obtener el mismo resultado con una regresión lineal usando el paquete <em>lm</em> e incluyendo, además de la variable de tratamiento, dummies de estado y de año.</p>
<p><em>Estimamos con dummies:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(suicide_rate <span class="sc">~</span> unilateral <span class="sc">+</span> <span class="fu">factor</span>(st) <span class="sc">+</span> <span class="fu">factor</span>(year),</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> wd))<span class="sc">$</span>coef[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             Estimate Std. Error   t value
(Intercept) 56.732642   2.468251 22.984953
unilateral  -3.776552   1.054148 -3.582562</code></pre>
</div>
</div>
<p><em>Luego estimamos errores agrupados:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(m1),</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">output =</span> <span class="st">'gt'</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov=</span>clubSandwich<span class="sc">::</span><span class="fu">vcovCR</span>(m1, <span class="at">type=</span><span class="st">'CR1'</span>, <span class="at">cluster=</span>wd<span class="sc">$</span>st),</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">coef_map =</span> <span class="st">"unilateral"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">gof_map =</span> <span class="st">"nobs"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="gcksaocvaa" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#gcksaocvaa table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#gcksaocvaa thead, #gcksaocvaa tbody, #gcksaocvaa tfoot, #gcksaocvaa tr, #gcksaocvaa td, #gcksaocvaa th {
  border-style: none;
}

#gcksaocvaa p {
  margin: 0;
  padding: 0;
}

#gcksaocvaa .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gcksaocvaa .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#gcksaocvaa .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gcksaocvaa .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gcksaocvaa .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gcksaocvaa .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gcksaocvaa .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gcksaocvaa .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gcksaocvaa .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gcksaocvaa .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gcksaocvaa .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gcksaocvaa .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gcksaocvaa .gt_spanner_row {
  border-bottom-style: hidden;
}

#gcksaocvaa .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#gcksaocvaa .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gcksaocvaa .gt_from_md > :first-child {
  margin-top: 0;
}

#gcksaocvaa .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gcksaocvaa .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gcksaocvaa .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#gcksaocvaa .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#gcksaocvaa .gt_row_group_first td {
  border-top-width: 2px;
}

#gcksaocvaa .gt_row_group_first th {
  border-top-width: 2px;
}

#gcksaocvaa .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcksaocvaa .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#gcksaocvaa .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#gcksaocvaa .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gcksaocvaa .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcksaocvaa .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gcksaocvaa .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#gcksaocvaa .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gcksaocvaa .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gcksaocvaa .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gcksaocvaa .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcksaocvaa .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gcksaocvaa .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcksaocvaa .gt_left {
  text-align: left;
}

#gcksaocvaa .gt_center {
  text-align: center;
}

#gcksaocvaa .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gcksaocvaa .gt_font_normal {
  font-weight: normal;
}

#gcksaocvaa .gt_font_bold {
  font-weight: bold;
}

#gcksaocvaa .gt_font_italic {
  font-style: italic;
}

#gcksaocvaa .gt_super {
  font-size: 65%;
}

#gcksaocvaa .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#gcksaocvaa .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#gcksaocvaa .gt_indent_1 {
  text-indent: 5px;
}

#gcksaocvaa .gt_indent_2 {
  text-indent: 10px;
}

#gcksaocvaa .gt_indent_3 {
  text-indent: 15px;
}

#gcksaocvaa .gt_indent_4 {
  text-indent: 20px;
}

#gcksaocvaa .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id=" " class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="(1)" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">(1)</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="">unilateral</td>
<td class="gt_row gt_center" headers="(1)">-3.777</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000"></td>
<td class="gt_row gt_center" headers="(1)" style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #000000">(2.200)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="">Num.Obs.</td>
<td class="gt_row gt_center" headers="(1)">1683</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><em>Obtenemos los mismos coeficientes. Aquí también podrán volver a comprobar la importancia de usar errores agrupados. El error agrupado es más de dos veces más grande que el error clásico.</em></p></li>
<li><p>[10 puntos] Ahora muestre que podemos obtener el coeficiente de TWFE a partir de una regresión bivariada entre la tasa de suicidios y <strong>unilateral</strong>, una vez <em>purgada</em> por efectos fijos. Para ello, primero estime una regresión de <strong>unilateral</strong> en función de los efectos fijos. Obtenga la predicción y luego defina una nueva variable igual a la diferencia entre <strong>unilateral</strong> y la predicción que acaba de obtener. Finalmente, obtenga el coeficiente de TWFE con una regresión de la tasa de suicidios en función de la diferencia antes definida.</p>
<p><em>Corremos la primera regresión para purgar los efectos fijos:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(unilateral <span class="sc">~</span> <span class="fu">factor</span>(st) <span class="sc">+</span> <span class="fu">factor</span>(year),</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> wd)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Definimos la nueva variable:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>wd <span class="ot">&lt;-</span> wd <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">unilateral_hat =</span> unilateral<span class="sc">-</span><span class="fu">predict</span>(d1))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Y finalmente estimamos:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(suicide_rate <span class="sc">~</span> unilateral_hat,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> wd))<span class="sc">$</span>coef[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                Estimate Std. Error    t value
(Intercept)    54.422503  0.4585884 118.673960
unilateral_hat -3.776552  1.8276582  -2.066334</code></pre>
</div>
</div>
<p><em>Obtenemos el mismo coeficiente. Frisch–Waugh–Lovell tenían razón.</em></p></li>
<li><p>[10 puntos] Realice la descomposición de Goodman-Bacon (2021). Construya un gráfico donde muestre en el eje <span class="math inline">\(x\)</span> el peso otorgado a cada comparación 2x2 que el estimador de TWFE realiza mecánicamente y en el eje <span class="math inline">\(y\)</span> el efecto estimado correspondiente a cada comparación. Interprete el gráfico obtenido.</p>
<p><em>Como vimos en laboratorio, la descomposición de Bacon se puede obtener con la función bacon:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Goodman-Bacon decomposition</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>df_bacon <span class="ot">&lt;-</span> <span class="fu">bacon</span>(suicide_rate <span class="sc">~</span> unilateral,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> wd,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">id_var =</span> <span class="st">"st"</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">time_var =</span> <span class="st">"year"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      type  weight  avg_est
1 Earlier vs Later Treated 0.11558  0.13489
2  Later vs Always Treated 0.41990 -6.95245
3 Later vs Earlier Treated 0.23125  2.33743
4     Treated vs Untreated 0.23328 -6.05881</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>coef_bacon <span class="ot">&lt;-</span> <span class="fu">sum</span>(df_bacon<span class="sc">$</span>estimate <span class="sc">*</span> df_bacon<span class="sc">$</span>weight)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Suma ponderada de la descomposición ="</span>, <span class="fu">round</span>(coef_bacon, <span class="dv">4</span>)))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Suma ponderada de la descomposición = -3.7766"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>twfe <span class="ot">&lt;-</span> <span class="fu">felm</span>(suicide_rate <span class="sc">~</span> unilateral <span class="sc">|</span> st <span class="sc">+</span> year <span class="sc">|</span> <span class="dv">0</span> <span class="sc">|</span> st,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> wd)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico----</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>df_bacon <span class="sc">%&gt;%</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>weight,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">y=</span>estimate,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape=</span>type)) <span class="sc">+</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">round</span>(twfe<span class="sc">$</span>coefficients, <span class="dv">4</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tarea-3-respuestas_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Las comparaciones que más pesan en el estimador de efectos fijos son las de estados tratados con los que siempre estuvieron tratados en el panel, recibiendo dos de esas comparaciones alrededor de 13 y el 7% del peso (los dos triángulos más hacia la derecha). otra comparación que recibe alrededor de 7% del peso es la de los tratados con los nunca tratados (cruz más hacia la derecha). En total, las comparaciones con los estados que iniciaron siendo tratados se llevan el 42% del peso. Las comparaciones entre los tratados tarde y los tratados temprano también reciben un peso alto de 23%.</em></p></li>
<li><p>[10 puntos] Implemente el estimador de Callaway &amp; Sant’Anna (2021) para estimar los efectos del tratamiento específicos para cada cohorte, usando el paquete <em>did</em>. Utilice como grupo de comparación los estados <em>no tratados aún</em>. La columna <strong>stid</strong> es un identificador numérico de los estados (lo requerirá cuando use <em>att_gt</em> del paquete <em>did</em>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>atts_nyt <span class="ot">&lt;-</span> <span class="fu">att_gt</span>(<span class="at">yname =</span> <span class="st">"suicide_rate"</span>,</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tname =</span> <span class="st">"year"</span>,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">idname =</span> <span class="st">"stid"</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gname =</span> <span class="st">"divyear"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">data =</span> wd,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">control_group =</span> <span class="st">"notyettreated"</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">est_method =</span> <span class="st">'reg'</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">bstrap =</span> <span class="cn">TRUE</span>,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                      <span class="at">biters =</span> <span class="dv">1000</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">print_details =</span> <span class="cn">FALSE</span>,</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">panel =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(atts_nyt)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
att_gt(yname = "suicide_rate", tname = "year", idname = "stid", 
    gname = "divyear", data = wd, panel = TRUE, control_group = "notyettreated", 
    bstrap = TRUE, biters = 1000, est_method = "reg", print_details = FALSE)

Reference: Callaway, Brantly and Pedro H.C. Sant'Anna.  "Difference-in-Differences with Multiple Time Periods." Journal of Econometrics, Vol. 225, No. 2, pp. 200-230, 2021. &lt;https://doi.org/10.1016/j.jeconom.2020.12.001&gt;, &lt;https://arxiv.org/abs/1803.09015&gt; 

Group-Time Average Treatment Effects:
 Group Time ATT(g,t) Std. Error [95% Simult.  Conf. Band]  
  1969 1965  -1.9053     5.0021      -16.4688     12.6583  
  1969 1966   4.5124     5.8057      -12.3910     21.4158  
  1969 1967   0.5622     4.8998      -13.7036     14.8281  
  1969 1968   5.1789     2.8622       -3.1543     13.5122  
  1969 1969  -0.7447     4.7347      -14.5298     13.0404  
  1969 1970 -10.2717     7.8442      -33.1101     12.5666  
  1969 1971 -12.3880     6.7309      -31.9849      7.2090  
  1969 1972  -4.1259     3.4859      -14.2750      6.0231  
  1969 1973   1.4524     6.8054      -18.3615     21.2662  
  1969 1974  -1.4022     5.1655      -16.4414     13.6370  
  1969 1975  -0.9265     4.5063      -14.0466     12.1935  
  1969 1976 -12.7344     6.0394      -30.3181      4.8494  
  1969 1977  -2.3415     9.3507      -29.5662     24.8831  
  1969 1978 -11.4247     7.7205      -33.9028     11.0534  
  1969 1979  -6.0427     9.0310      -32.3365     20.2511  
  1969 1980  -7.9345     5.6002      -24.2396      8.3705  
  1969 1981  -1.7430     9.4993      -29.4000     25.9140  
  1969 1982  -6.7020     7.4160      -28.2936     14.8895  
  1969 1983   4.7154    10.1305      -24.7795     34.2103  
  1969 1984  -9.5175    11.8409      -43.9924     24.9573  
  1969 1985   5.9598    16.9500      -43.3902     55.3097  
  1969 1986  -8.5962    11.1317      -41.0061     23.8137  
  1969 1987  -8.6897     7.0919      -29.3376     11.9582  
  1969 1988 -11.9815     7.9439      -35.1101     11.1471  
  1969 1989  -5.9781    14.9263      -49.4361     37.4799  
  1969 1990  -7.7327    10.8247      -39.2488     23.7834  
  1969 1991 -14.7659    11.0815      -47.0297     17.4979  
  1969 1992  -6.6956     6.5059      -25.6374     12.2462  
  1969 1993   0.5290    11.2436      -32.2068     33.2648  
  1969 1994  -6.1575    15.7991      -52.1564     39.8414  
  1969 1995  -6.7870    15.8578      -52.9569     39.3830  
  1969 1996   3.0338    13.1707      -35.3127     41.3804  
  1970 1965   2.4919     3.1408       -6.6523     11.6362  
  1970 1966   1.8500     3.1626       -7.3580     11.0580  
  1970 1967  -2.0438     3.9758      -13.6192      9.5317  
  1970 1968  -3.7538     7.0782      -24.3620     16.8543  
  1970 1969   9.0725     3.6333       -1.5059     19.6509  
  1970 1970   0.3548     4.7693      -13.5309     14.2406  
  1970 1971  -1.9698     3.2340      -11.3857      7.4461  
  1970 1972  -1.4067     6.1382      -19.2779     16.4645  
  1970 1973 -11.2801     3.8980      -22.6291      0.0689  
  1970 1974 -11.1775     3.6941      -21.9329     -0.4220 *
  1970 1975 -12.0330     6.1919      -30.0608      5.9948  
  1970 1976 -17.7592     7.6964      -40.1671      4.6487  
  1970 1977 -16.3994     5.1386      -31.3603     -1.4384 *
  1970 1978 -29.1877    10.0444      -58.4318      0.0565  
  1970 1979 -26.8802    12.4721      -63.1927      9.4324  
  1970 1980 -39.5660    11.0135      -71.6317     -7.5002 *
  1970 1981 -30.0122    11.1197      -62.3871      2.3627  
  1970 1982 -36.1714     9.5763      -64.0528     -8.2900 *
  1970 1983 -31.0969    17.3064      -81.4844     19.2907  
  1970 1984 -31.4749    18.4672      -85.2420     22.2921  
  1970 1985 -30.6346    19.0705      -86.1583     24.8891  
  1970 1986 -37.0754    20.0211      -95.3669     21.2160  
  1970 1987 -37.6630    22.4908     -103.1450     27.8189  
  1970 1988 -43.0563    21.5567     -105.8185     19.7059  
  1970 1989 -45.1314    17.9619      -97.4274      7.1646  
  1970 1990 -43.1765    20.6293     -103.2385     16.8856  
  1970 1991 -49.9116    20.1250     -108.5055      8.6822  
  1970 1992 -50.9515    16.3952      -98.6861     -3.2170 *
  1970 1993 -44.5526    22.5578     -110.2296     21.1244  
  1970 1994 -51.5405    17.8275     -103.4453      0.3642  
  1970 1995 -48.4108    21.0256     -109.6267     12.8051  
  1970 1996 -48.0618    21.2992     -110.0743     13.9507  
  1971 1965  -2.2110     3.7081      -13.0070      8.5851  
  1971 1966  -5.9450     3.4193      -15.9004      4.0104  
  1971 1967   6.1535     3.9253       -5.2750     17.5820  
  1971 1968   5.3039     3.5976       -5.1705     15.7784  
  1971 1969  -4.8826     3.6959      -15.6433      5.8781  
  1971 1970   0.5878     5.3715      -15.0512     16.2268  
  1971 1971  -7.5805     6.0796      -25.2811     10.1201  
  1971 1972 -11.4260     7.2161      -32.4358      9.5838  
  1971 1973  -5.8221     7.9810      -29.0588     17.4146  
  1971 1974   5.7926     5.5585      -10.3909     21.9762  
  1971 1975   0.0590     5.7795      -16.7679     16.8859  
  1971 1976  -0.7920     7.7647      -23.3990     21.8150  
  1971 1977   0.5899     7.9569      -22.5767     23.7565  
  1971 1978  -9.5946     9.1872      -36.3431     17.1538  
  1971 1979  -8.8180     5.9349      -26.0975      8.4616  
  1971 1980 -15.0039     7.0264      -35.4613      5.4535  
  1971 1981  -6.0810     8.2545      -30.1138     17.9519  
  1971 1982 -15.5575     8.6964      -40.8770      9.7619  
  1971 1983  -6.7973     5.9079      -23.9982     10.4035  
  1971 1984  -8.1090     7.1407      -28.8991     12.6810  
  1971 1985  -9.3683     8.6304      -34.4955     15.7590  
  1971 1986 -16.9260     8.0305      -40.3068      6.4548  
  1971 1987 -12.9962    11.1915      -45.5800     19.5877  
  1971 1988 -14.6487     8.8895      -40.5304     11.2330  
  1971 1989 -18.7126     9.7399      -47.0702      9.6450  
  1971 1990 -17.6198     6.9695      -37.9114      2.6718  
  1971 1991 -17.2789     9.4179      -44.6992     10.1414  
  1971 1992 -22.1825    10.4209      -52.5229      8.1580  
  1971 1993  -9.1278     9.7365      -37.4755     19.2199  
  1971 1994 -13.7091     9.0653      -40.1027     12.6845  
  1971 1995 -15.3270     7.8235      -38.1050      7.4509  
  1971 1996 -11.2124     9.8387      -39.8577     17.4329  
  1972 1965   1.9641     1.8879       -3.5325      7.4607  
  1972 1966   2.3826     6.2550      -15.8288     20.5940  
  1972 1967  -3.8865     5.9873      -21.3185     13.5455  
  1972 1968   7.6954     2.7321       -0.2592     15.6500  
  1972 1969  -8.7084     3.0863      -17.6942      0.2774  
  1972 1970   0.1004     2.5219       -7.2419      7.4428  
  1972 1971   1.1463     3.3423       -8.5848     10.8774  
  1972 1972  -4.8115     4.7816      -18.7331      9.1101  
  1972 1973  -2.3073     6.4750      -21.1591     16.5446  
  1972 1974   0.7950     4.7232      -12.9566     14.5465  
  1972 1975  -2.8930     4.6434      -16.4123     10.6264  
  1972 1976  -2.9838     9.9494      -31.9515     25.9840  
  1972 1977   2.8759     5.8415      -14.1317     19.8835  
  1972 1978 -13.9499     6.9152      -34.0834      6.1836  
  1972 1979  -4.7118     9.6540      -32.8196     23.3959  
  1972 1980  -9.9424     7.0280      -30.4045     10.5197  
  1972 1981   0.7622     6.6934      -18.7256     20.2501  
  1972 1982  -5.7949     7.6817      -28.1601     16.5702  
  1972 1983  -2.5286     7.4012      -24.0771     19.0200  
  1972 1984  -5.7192     7.7805      -28.3722     16.9338  
  1972 1985  -8.5492     8.3653      -32.9048     15.8064  
  1972 1986  -3.2909     6.0279      -20.8411     14.2594  
  1972 1987 -14.5853     7.6227      -36.7786      7.6081  
  1972 1988 -12.6795     6.6749      -32.1133      6.7543  
  1972 1989 -10.9845     6.5700      -30.1130      8.1440  
  1972 1990  -7.7794     7.3031      -29.0422     13.4834  
  1972 1991 -13.7033     5.3662      -29.3270      1.9205  
  1972 1992 -11.0100     9.2189      -37.8508     15.8309  
  1972 1993 -17.3770     6.9952      -37.7434      2.9894  
  1972 1994 -16.6543     7.8719      -39.5733      6.2647  
  1972 1995 -16.0626     6.5878      -35.2428      3.1176  
  1972 1996 -13.6292     5.0248      -28.2588      1.0005  
  1973 1965  -1.6544     3.2281      -11.0530      7.7442  
  1973 1966  -3.5308     4.2168      -15.8081      8.7465  
  1973 1967   5.5388     5.7733      -11.2701     22.3478  
  1973 1968  -4.1286     5.3947      -19.8354     11.5782  
  1973 1969   1.9470     3.8187       -9.1712     13.0652  
  1973 1970   0.3836     5.0856      -14.4231     15.1903  
  1973 1971  -0.4064     6.1066      -18.1858     17.3730  
  1973 1972  -0.7103     6.4314      -19.4354     18.0148  
  1973 1973   9.0122     6.5123       -9.9482     27.9726  
  1973 1974   7.0826     6.4264      -11.6278     25.7931  
  1973 1975   8.7932     9.8774      -19.9648     37.5513  
  1973 1976   5.5815     6.9796      -14.7396     25.9027  
  1973 1977   9.2638     7.0693      -11.3184     29.8460  
  1973 1978  -2.8479     7.8371      -25.6656     19.9697  
  1973 1979   3.5441     8.0299      -19.8348     26.9231  
  1973 1980  -3.7998     8.8494      -29.5647     21.9652  
  1973 1981   3.7874     8.8168      -21.8829     29.4576  
  1973 1982  -2.3342     9.8270      -30.9453     26.2770  
  1973 1983   0.3746     7.3870      -21.1326     21.8818  
  1973 1984  -4.0602     9.2552      -31.0065     22.8861  
  1973 1985  -3.3503     7.4183      -24.9488     18.2482  
  1973 1986  -9.9416     5.0424      -24.6225      4.7393  
  1973 1987 -10.5611     9.3995      -37.9277     16.8055  
  1973 1988 -13.3770    10.1725      -42.9940     16.2401  
  1973 1989  -9.7072     7.1490      -30.5214     11.1069  
  1973 1990 -12.5464     6.2453      -30.7296      5.6367  
  1973 1991 -15.9396     7.6914      -38.3329      6.4538  
  1973 1992 -17.9985     7.9687      -41.1994      5.2025  
  1973 1993 -13.8426     8.3306      -38.0972     10.4120  
  1973 1994  -9.0985     6.2647      -27.3379      9.1410  
  1973 1995 -12.4104     4.3054      -24.9455      0.1246  
  1973 1996 -14.4985     5.7258      -31.1691      2.1720  
  1974 1965  -3.4980     5.4360      -19.3248     12.3288  
  1974 1966   4.0405     5.9789      -13.3670     21.4480  
  1974 1967  -2.4469     2.6914      -10.2829      5.3892  
  1974 1968  -4.1701     5.4285      -19.9752     11.6349  
  1974 1969   3.0794     2.0502       -2.8897      9.0485  
  1974 1970   3.9844     2.6442       -3.7140     11.6829  
  1974 1971  -7.0304     3.1395      -16.1712      2.1103  
  1974 1972   6.3385     3.4217       -3.6238     16.3009  
  1974 1973   0.5656     5.4608      -15.3334     16.4646  
  1974 1974  -2.4409     4.3340      -15.0594     10.1777  
  1974 1975   1.3647     5.4230      -14.4245     17.1538  
  1974 1976  -3.5756     6.1408      -21.4546     14.3034  
  1974 1977  -4.0728     5.6083      -20.4014     12.2558  
  1974 1978  -8.9231     5.4853      -24.8935      7.0472  
  1974 1979  -1.7408     6.2213      -19.8541     16.3724  
  1974 1980  -9.7770     5.4015      -25.5035      5.9495  
  1974 1981  -2.8322     5.9442      -20.1388     14.4743  
  1974 1982  -7.4517     5.1390      -22.4140      7.5106  
  1974 1983  -4.3400     6.9754      -24.6489     15.9688  
  1974 1984  -7.8279     6.3810      -26.4061     10.7502  
  1974 1985   0.9048    10.6300      -30.0444     31.8540  
  1974 1986  -3.4953     8.6356      -28.6379     21.6473  
  1974 1987  -9.3045     9.3295      -36.4674     17.8583  
  1974 1988  -9.0434     8.5952      -34.0682     15.9813  
  1974 1989  -6.4758     9.7005      -34.7187     21.7671  
  1974 1990  -7.6369     8.4986      -32.3806     17.1068  
  1974 1991 -14.7133     7.8071      -37.4438      8.0172  
  1974 1992 -14.7711     7.9707      -37.9777      8.4356  
  1974 1993 -11.2274     9.1194      -37.7784     15.3235  
  1974 1994 -14.4350    10.5207      -45.0658     16.1958  
  1974 1995 -13.4194     9.8548      -42.1116     15.2728  
  1974 1996 -14.8017    10.4631      -45.2650     15.6617  
  1975 1965  18.6039    13.2240      -19.8978     57.1055  
  1975 1966  -3.3872     3.5095      -13.6051      6.8306  
  1975 1967  -2.4321     1.9944       -8.2386      3.3745  
  1975 1968   7.3667     5.1703       -7.6864     22.4199  
  1975 1969  -4.2480     6.2084      -22.3237     13.8278  
  1975 1970 -11.4912     6.4573      -30.2915      7.3091  
  1975 1971   5.6632     8.3399      -18.6183     29.9446  
  1975 1972 -15.6310     6.8924      -35.6981      4.4362  
  1975 1973  16.2449     6.4778       -2.6152     35.1050  
  1975 1974  -0.4082     6.2543      -18.6176     17.8012  
  1975 1975  -2.3510     2.7454      -10.3442      5.6423  
  1975 1976  -2.3824     5.7233      -19.0457     14.2808  
  1975 1977  -4.1345     8.0632      -27.6104     19.3415  
  1975 1978  -7.0822     6.3401      -25.5413     11.3770  
  1975 1979 -12.0112    12.6362      -48.8013     24.7789  
  1975 1980 -10.7602     5.1151      -25.6528      4.1324  
  1975 1981  -7.1236     5.1125      -22.0087      7.7615  
  1975 1982 -10.5685     7.0478      -31.0882      9.9512  
  1975 1983  -9.0308     5.8602      -26.0928      8.0312  
  1975 1984   9.8022     5.4215       -5.9826     25.5869  
  1975 1985  -5.6163     8.3116      -29.8156     18.5829  
  1975 1986  -5.2183     4.7325      -18.9970      8.5603  
  1975 1987  -0.8638     5.9079      -18.0645     16.3370  
  1975 1988 -15.3668    10.9143      -47.1437     16.4102  
  1975 1989  -5.4933     5.4099      -21.2442     10.2575  
  1975 1990   8.5067     5.4844       -7.4613     24.4746  
  1975 1991   0.7631     6.1256      -17.0716     18.5978  
  1975 1992  -4.2255     6.0728      -21.9063     13.4553  
  1975 1993   1.1200     2.6826       -6.6905      8.9304  
  1975 1994  -8.3655     7.6252      -30.5663     13.8354  
  1975 1995   1.8041     3.7171       -9.0183     12.6265  
  1975 1996  -6.9207     5.3361      -22.4569      8.6155  
  1976 1965 -11.0522     1.6915      -15.9769     -6.1275 *
  1976 1966   0.1018     2.0470       -5.8579      6.0615  
  1976 1967  -5.9143     1.9751      -11.6649     -0.1637 *
  1976 1968  -1.6479     2.0468       -7.6072      4.3114  
  1976 1969  -6.6407     1.8972      -12.1645     -1.1170 *
  1976 1970   8.5784     1.8981        3.0520     14.1048 *
  1976 1971   4.0973     2.5332       -3.2780     11.4726  
  1976 1972  -0.9903     2.8345       -9.2428      7.2622  
  1976 1973 -20.1263     3.9010      -31.4841     -8.7685 *
  1976 1974  39.6133     2.6712       31.8360     47.3906 *
  1976 1975  -3.5747     2.8347      -11.8280      4.6785  
  1976 1976   3.7698     5.2793      -11.6010     19.1406  
  1976 1977  33.5942     4.9991       19.0395     48.1490 *
  1976 1978  -3.1195     2.3473       -9.9538      3.7148  
  1976 1979   1.3342     7.2083      -19.6528     22.3212  
  1976 1980 -10.4124     3.9110      -21.7993      0.9744  
  1976 1981 -10.4368     5.7455      -27.1646      6.2911  
  1976 1982 -12.4922     3.4351      -22.4935     -2.4909 *
  1976 1983 -15.8081     6.3242      -34.2209      2.6047  
  1976 1984 -20.6870     4.3502      -33.3525     -8.0215 *
  1976 1985  -0.2053    11.6139      -34.0191     33.6085  
  1976 1986 -27.7992     8.3181      -52.0172     -3.5811 *
  1976 1987  -9.9985     3.6973      -20.7631      0.7662  
  1976 1988 -22.8540     5.8685      -39.9403     -5.7678 *
  1976 1989 -14.3020     6.3277      -32.7250      4.1210  
  1976 1990 -16.7275     4.8656      -30.8936     -2.5614 *
  1976 1991 -29.9838     5.3052      -45.4300    -14.5377 *
  1976 1992 -35.9431     6.1194      -53.7598    -18.1264 *
  1976 1993 -33.5630     6.2298      -51.7011    -15.4249 *
  1976 1994 -19.1785    10.5829      -49.9905     11.6334  
  1976 1995 -18.8943     9.0197      -45.1550      7.3665  
  1976 1996 -20.0712     8.0000      -43.3631      3.2206  
  1977 1965   6.8982    11.5917      -26.8510     40.6475  
  1977 1966 -11.1214     7.8070      -33.8514     11.6086  
  1977 1967  10.8566     5.9907       -6.5854     28.2986  
  1977 1968 -11.0425    11.6854      -45.0646     22.9796  
  1977 1969  10.1932    12.0317      -24.8372     45.2235  
  1977 1970   2.9004     5.8655      -14.1771     19.9779  
  1977 1971   3.0530     8.2289      -20.9055     27.0115  
  1977 1972  -0.6535     9.9246      -29.5489     28.2419  
  1977 1973   3.1405     8.1827      -20.6833     26.9644  
  1977 1974 -14.4506     5.8144      -31.3792      2.4779  
  1977 1975  -0.1240     4.9821      -14.6295     14.3815  
  1977 1976   5.5263    17.4444      -45.2630     56.3155  
  1977 1977  -0.1462    15.5577      -45.4424     45.1500  
  1977 1978 -17.4422    17.0998      -67.2283     32.3439  
  1977 1979  -7.6652    28.1347      -89.5793     74.2489  
  1977 1980 -12.0752    23.7722      -81.2879     57.1376  
  1977 1981 -11.8110    21.2199      -73.5925     49.9705  
  1977 1982 -18.5556    16.2495      -65.8658     28.7547  
  1977 1983   4.2551    30.1774      -83.6062     92.1164  
  1977 1984  -3.0226    22.8061      -69.4225     63.3774  
  1977 1985 -14.8995    20.4874      -74.5485     44.7494  
  1977 1986 -12.3230    14.2920      -53.9341     29.2882  
  1977 1987 -23.6769    27.0571     -102.4536     55.0997  
  1977 1988 -25.5547    22.2544      -90.3483     39.2389  
  1977 1989  -9.2602    31.0752      -99.7354     81.2149  
  1977 1990 -13.7369    28.6830      -97.2475     69.7737  
  1977 1991 -25.9731    23.5938      -94.6663     42.7201  
  1977 1992 -29.9220    23.2090      -97.4948     37.6508  
  1977 1993 -14.9531    26.2789      -91.4639     61.5578  
  1977 1994 -11.6033    33.0840     -107.9272     84.7205  
  1977 1995 -29.0098    21.0814      -90.3883     32.3687  
  1977 1996 -16.0590    20.9341      -77.0086     44.8905  
  1980 1965  -4.7817     1.6709       -9.6465      0.0831  
  1980 1966  -2.0295     2.0384       -7.9642      3.9052  
  1980 1967   0.2462     1.9512       -5.4347      5.9272  
  1980 1968   4.9725     2.0634       -1.0351     10.9801  
  1980 1969  -5.6981     1.8605      -11.1149     -0.2812 *
  1980 1970   7.6920     1.9457        2.0273     13.3568 *
  1980 1971  -9.5134     2.5279      -16.8734     -2.1533 *
  1980 1972   5.9170     2.8378       -2.3454     14.1794  
  1980 1973  -3.6509     4.0330      -15.3930      8.0912  
  1980 1974   1.1846     4.3231      -11.4021     13.7713  
  1980 1975  -1.4249     2.8457       -9.7101      6.8604  
  1980 1976   1.5220     5.8828      -15.6057     18.6496  
  1980 1977  -1.8998     2.8071      -10.0726      6.2731  
  1980 1978  -6.1099     4.8000      -20.0852      7.8654  
  1980 1979   6.0177     8.1746      -17.7827     29.8181  
  1980 1980 -11.0694     5.2066      -26.2285      4.0897  
  1980 1981  -7.3267     2.7095      -15.2153      0.5620  
  1980 1982  -9.2663     9.5864      -37.1771     18.6446  
  1980 1983   1.6316     3.2064       -7.7038     10.9670  
  1980 1984  -2.4538     5.5165      -18.5151     13.6075  
  1980 1985   4.4467     5.1164      -10.4496     19.3430  
  1980 1986  -9.5981     7.0565      -30.1430     10.9468  
  1980 1987 -10.0537    11.6490      -43.9696     23.8622  
  1980 1988 -10.9789    10.8204      -42.4824     20.5247  
  1980 1989  -6.9527     5.9212      -24.1922     10.2869  
  1980 1990  -5.3312     6.8183      -25.1825     14.5201  
  1980 1991  -8.8820     8.4870      -33.5918     15.8278  
  1980 1992 -12.0023    11.0607      -44.2054     20.2008  
  1980 1993  -8.3192     9.2339      -35.2036     18.5653  
  1980 1994 -12.5474     6.6539      -31.9203      6.8254  
  1980 1995  -6.7308     8.7926      -32.3304     18.8688  
  1980 1996  -9.1678     7.7440      -31.7144     13.3787  
  1984 1965   2.2727     1.7173       -2.7273      7.2727  
  1984 1966  -1.6070     2.0508       -7.5780      4.3640  
  1984 1967  -1.8538     1.9421       -7.5082      3.8006  
  1984 1968  -1.3557     2.0526       -7.3319      4.6205  
  1984 1969   2.1619     1.9118       -3.4042      7.7280  
  1984 1970  -0.3449     1.9767       -6.1002      5.4103  
  1984 1971 -10.9305     2.5181      -18.2620     -3.5990 *
  1984 1972   5.8536     2.7651       -2.1971     13.9042  
  1984 1973  -1.9239     3.9663      -13.4716      9.6238  
  1984 1974  -7.1605     4.2240      -19.4586      5.1376  
  1984 1975  -1.6437     2.8679       -9.9935      6.7061  
  1984 1976   5.6685     5.7003      -10.9280     22.2650  
  1984 1977   3.2342     2.9185       -5.2631     11.7315  
  1984 1978  -7.3151     5.0227      -21.9386      7.3083  
  1984 1979   1.9466     8.5925      -23.0704     26.9635  
  1984 1980  -8.6205     5.8434      -25.6336      8.3926  
  1984 1981  10.4692     4.8613       -3.6846     24.6229  
  1984 1982  -5.4364     7.9954      -28.7149     17.8421  
  1984 1983  12.0264     8.7568      -13.4691     37.5219  
  1984 1984  -0.7730     3.0431       -9.6331      8.0871  
  1984 1985   4.0744     3.8064       -7.0079     15.1567  
  1984 1986  -8.0341     2.9094      -16.5048      0.4367  
  1984 1987 -10.4189     8.9490      -36.4738     15.6360  
  1984 1988  -7.8277     6.1942      -25.8620     10.2067  
  1984 1989  -9.2894     3.4826      -19.4290      0.8502  
  1984 1990  -6.2529     2.7864      -14.3657      1.8598  
  1984 1991 -10.1584     5.2819      -25.5367      5.2199  
  1984 1992 -11.4694     8.6653      -36.6983     13.7595  
  1984 1993  -9.2844     4.8880      -23.5158      4.9469  
  1984 1994 -14.6630     5.2893      -30.0627      0.7368  
  1984 1995 -12.5044     3.6796      -23.2174     -1.7914 *
  1984 1996 -10.2449     3.1374      -19.3793     -1.1104 *
  1985 1965  -4.3499     1.6685       -9.2076      0.5077  
  1985 1966  37.6989     1.8713       32.2505     43.1473 *
  1985 1967 -19.2838     1.9297      -24.9022    -13.6653 *
  1985 1968  -4.2545     2.1005      -10.3700      1.8610  
  1985 1969  10.5295     1.8767        5.0654     15.9935 *
  1985 1970   7.2143     1.9756        1.4623     12.9664 *
  1985 1971   6.9735     2.5312       -0.3960     14.3429  
  1985 1972   5.8781     2.8318       -2.3667     14.1228  
  1985 1973 -38.9329     2.9232      -47.4437    -30.4220 *
  1985 1974   8.7158     4.2363       -3.6182     21.0499  
  1985 1975  -7.1533     2.7258      -15.0895      0.7829  
  1985 1976  -0.8308     5.8266      -17.7948     16.1333  
  1985 1977  -2.2605     2.8358      -10.5167      5.9958  
  1985 1978   7.7405     5.9099       -9.4663     24.9473  
  1985 1979  -4.9814     8.4658      -29.6297     19.6668  
  1985 1980   2.9209     5.9700      -14.4609     20.3026  
  1985 1981  -4.4773     5.0164      -19.0825     10.1279  
  1985 1982  13.7629     9.0270      -12.5192     40.0451  
  1985 1983  -7.4210     9.1244      -33.9868     19.1447  
  1985 1984  -5.5493     3.0943      -14.5584      3.4598  
  1985 1985  11.4728     6.8301       -8.4128     31.3585  
  1985 1986  10.1715     3.1749        0.9278     19.4153 *
  1985 1987  17.5291     5.1061        2.6627     32.3955 *
  1985 1988  -9.6423     3.9206      -21.0571      1.7725  
  1985 1989  19.8229     4.9977        5.2720     34.3737 *
  1985 1990  26.2350     0.9371       23.5066     28.9633 *
  1985 1991   6.2209     3.5620       -4.1499     16.5917  
  1985 1992  18.3602     5.5364        2.2411     34.4793 *
  1985 1993  23.0343     2.8585       14.7120     31.3567 *
  1985 1994  15.2612     6.2622       -2.9711     33.4936  
  1985 1995  15.4633     4.6990        1.7822     29.1444 *
  1985 1996  26.5282     3.5315       16.2464     36.8101 *
---
Signif. codes: `*' confidence band does not cover 0

Control Group:  Not Yet Treated,  Anticipation Periods:  0
Estimation Method:  Outcome Regression</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggdid</span>(atts_nyt)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tarea-3-respuestas_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div></li>
<li><p>[5 puntos] Reporte los resultados agregados obtenidos a partir del estimador Callaway &amp; Sant’Anna (2021), usando una agregación dinámica que muestre los efectos promedio para cada periodo antes y después del tratamiento. Grafique e interprete los resultados.</p>
<p><em>Graficamos:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>agg.es <span class="ot">&lt;-</span> <span class="fu">aggte</span>(atts_nyt,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">type =</span> <span class="st">"dynamic"</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(agg.es)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
aggte(MP = atts_nyt, type = "dynamic")

Reference: Callaway, Brantly and Pedro H.C. Sant'Anna.  "Difference-in-Differences with Multiple Time Periods." Journal of Econometrics, Vol. 225, No. 2, pp. 200-230, 2021. &lt;https://doi.org/10.1016/j.jeconom.2020.12.001&gt;, &lt;https://arxiv.org/abs/1803.09015&gt; 


Overall summary of ATT's based on event-study/dynamic aggregation:  
    ATT    Std. Error     [ 95%  Conf. Int.]  
 -9.628         3.804   -17.0838     -2.1722 *


Dynamic Effects:
 Event time Estimate Std. Error [95% Simult.  Conf. Band]  
        -20  -4.3499     1.6517       -8.9412      0.2413  
        -19  19.9858    13.2450      -16.8321     56.8036  
        -18 -10.4454     7.1535      -30.3302      9.4395  
        -17  -3.0542     1.0485       -5.9689     -0.1395 *
        -16   4.5869     2.3299       -1.8895     11.0633  
        -15   1.5315     3.3729       -7.8442     10.9072  
        -14   1.5330     2.2900       -4.8325      7.8986  
        -13  -1.6021     5.7469      -17.5771     14.3730  
        -12  -1.2353     9.6621      -28.0936     25.6229  
        -11  -6.1889     4.6557      -19.1307      6.7529  
        -10   7.0286     5.3754       -7.9135     21.9708  
         -9  -5.6915     3.1019      -14.3141      2.9311  
         -8   1.1876     2.3485       -5.3406      7.7158  
         -7  -0.6219     2.1357       -6.5587      5.3149  
         -6   1.1581     2.6840       -6.3028      8.6190  
         -5  -2.9106     2.3321       -9.3933      3.5722  
         -4   2.9082     1.4977       -1.2549      7.0713  
         -3  -1.9822     2.6375       -9.3136      5.3493  
         -2   0.7311     2.6199       -6.5516      8.0137  
         -1   1.4763     2.4508       -5.3364      8.2889  
          0   0.5890     2.7890       -7.1636      8.3417  
          1  -1.2422     3.1567      -10.0171      7.5327  
          2  -0.3815     4.2220      -12.1177     11.3547  
          3  -0.4662     3.7223      -10.8132      9.8808  
          4  -0.3563     4.3884      -12.5548     11.8422  
          5  -3.4207     4.5733      -16.1334      9.2919  
          6  -2.4065     4.5559      -15.0708     10.2577  
          7  -6.4250     4.8840      -20.0012      7.1512  
          8  -5.8964     4.4018      -18.1323      6.3395  
          9  -6.3944     4.2770      -18.2835      5.4947  
         10  -7.7061     4.8278      -21.1263      5.7141  
         11  -8.8186     5.3034      -23.5608      5.9236  
         12  -7.2921     4.6542      -20.2296      5.6454  
         13 -11.1384     4.2721      -23.0139      0.7370  
         14 -11.1558     4.4582      -23.5486      1.2370  
         15 -14.8167     5.0785      -28.9335     -0.6999 *
         16 -11.6965     5.1491      -26.0096      2.6167  
         17 -14.3232     4.7708      -27.5847     -1.0617 *
         18 -17.1010     4.5812      -29.8357     -4.3664 *
         19 -17.4748     4.4698      -29.8996     -5.0499 *
         20 -14.9783     4.4465      -27.3384     -2.6182 *
         21 -15.8960     4.6464      -28.8118     -2.9801 *
         22 -15.2219     4.7176      -28.3355     -2.1082 *
         23 -16.2453     5.1252      -30.4921     -1.9984 *
         24 -17.8714     7.7076      -39.2965      3.5537  
         25 -17.0567     9.2784      -42.8483      8.7350  
         26 -27.4244    18.6170      -79.1749     24.3261  
         27   3.0338    14.6867      -37.7916     43.8592  
---
Signif. codes: `*' confidence band does not cover 0

Control Group:  Not Yet Treated,  Anticipation Periods:  0
Estimation Method:  Outcome Regression</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggdid</span>(agg.es)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tarea-3-respuestas_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Se obtiene una reducción en la tasa de suicidios que es estadísticamente significativa a partir de 13 años después de la introducción de la legislación.</em></p></li>
<li><p>[5 puntos] Reporte los resultados agregados obtenidos a partir del estimador Callaway &amp; Sant’Anna (2021), usando una agregación or grupos que muestre los efectos promedio para cada cohorte del tratamiento. Grafique e interprete los resultados.</p>
<p><em>Graficamos:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>agg.es <span class="ot">&lt;-</span> <span class="fu">aggte</span>(atts_nyt,</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">type =</span> <span class="st">"group"</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(agg.es)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
aggte(MP = atts_nyt, type = "group")

Reference: Callaway, Brantly and Pedro H.C. Sant'Anna.  "Difference-in-Differences with Multiple Time Periods." Journal of Econometrics, Vol. 225, No. 2, pp. 200-230, 2021. &lt;https://doi.org/10.1016/j.jeconom.2020.12.001&gt;, &lt;https://arxiv.org/abs/1803.09015&gt; 


Overall summary of ATT's based on group/cohort aggregation:  
     ATT    Std. Error     [ 95%  Conf. Int.]  
 -8.2876        3.2716   -14.6999     -1.8753 *


Group Effects:
 Group Estimate Std. Error [95% Simult.  Conf. Band]  
  1969  -5.3569     7.9093      -22.7579     12.0441  
  1970 -30.6010    12.3985      -57.8787     -3.3233 *
  1971 -10.3173     6.0787      -23.6909      3.0563  
  1972  -7.9006     4.7166      -18.2775      2.4764  
  1973  -4.5364     5.5781      -16.8086      7.7358  
  1974  -7.3929     6.2207      -21.0789      6.2931  
  1975  -4.3417     3.2696      -11.5352      2.8517  
  1976 -13.5133     4.6239      -23.6863     -3.3402 *
  1977 -14.6717    21.8462      -62.7351     33.3917  
  1980  -7.3295     5.5493      -19.5384      4.8793  
  1984  -8.2189     2.9925      -14.8027     -1.6352 *
  1985  15.0381     3.0445        8.3401     21.7362 *
---
Signif. codes: `*' confidence band does not cover 0

Control Group:  Not Yet Treated,  Anticipation Periods:  0
Estimation Method:  Outcome Regression</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggdid</span>(agg.es)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tarea-3-respuestas_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Notamos un efecto negativo en la tasa de suicidos que es estadísticamente significativa para los estados que fueron tratados en 1970, 1986 y 1984.</em></p></li>
<li><p>[5 puntos] ¿Cuáles son las ventajas del estimador de Callaway &amp; Sant’Anna (2021) respecto al estimador de TWFE?</p>
<p><em>Las ventajas del estimador de Callaway &amp; Sant’Anna respecto a TWFE son las siguientes:</em> <em>- Evita las comapraciones prohibidas (usar unidades tratadas como controles para unidades que son tratadas en periodos posteriores)</em> <em>- Hace explícito el grupo de comparación que se usa para comparar a las unidades tratadas</em> <em>- Hace explícita la manera en que se agregan los resultados de cada comparación <span class="math inline">\(ATT(g,t)\)</span></em> <em>- No impone efectos monótonos en el tiempo ni homogéneos entre unidades</em></p></li>
</ol>
</section>
<section id="pregunta-2" class="level2">
<h2 class="anchored" data-anchor-id="pregunta-2">Pregunta 2</h2>
<p>La ENIGH 2020 incluyó un módulo para la evaluación del Programa Jóvenes Construyendo el futuro. Se buscó que la cobertura de la encuesta pudiera incluir suficientes participantes del programa para poder compararlos con los no participantes. Los datos en <em>datos_jcf_analisis.csv</em> fueron construidos a partir de dicha encuesta. En este ejercicio estimaremos el efecto de participar en el programa sobre el ingreso trimestral, <strong>ingtot_tri</strong>, usando métodos de matching.</p>
<p>Las siguientes variables están incluidas en el archivo de datos: <strong>mujer</strong> (dummy de sexo), <strong>indigena</strong> (dummy de pertenencia a una etnia), <strong>rural</strong> (dummy del ámbito rural), <strong>escoacum</strong> (años de escolaridad), <strong>casadounion</strong> (dummy para casados o en unión libre), <strong>jefehog</strong> (dummy para jefes del hogar), <strong>haymenores</strong> (dummy para la presencia de menores de edad en el hogar), <strong>proggob</strong> (dummy para beneficiarios de programas de gobierno), y <strong>tot_integ</strong> (número de miembros del hogar). También se incluye la clave de las entidades, <strong>cve_ent</strong>.</p>
<ol type="a">
<li><p>[5 puntos] Considere la comparación para el ingreso trimestral, <strong>ingtot_tri</strong>, entre beneficiarios y su grupo de comparación, que serán los jóvenes que no asisten a la escuela y no están empleados. Los beneficiarios tienen <em>jcf2==1</em> y los jóvenes que no asisten a la escuela y no están empleados tienen <em>jcf2==0</em>. Muestre qué tan similares o qué tan diferentes son los individuos en ambos grupos en términos de las características indicadas anteriormente y del ingreso trimestral.</p>
<p><em>Estadística descriptiva:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>data.jcf <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../files/datos_jcf_analisis.csv"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1023</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Aquí usé datasummary para calcular la estadística descriptiva por grupos:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datasummary</span>(ingtot_tri <span class="sc">+</span> mujer <span class="sc">+</span> indigena <span class="sc">+</span> rural <span class="sc">+</span> escoacum <span class="sc">+</span> casadounion <span class="sc">+</span> jefehog <span class="sc">+</span> haymenores <span class="sc">+</span> proggob <span class="sc">+</span> tot_integ <span class="sc">~</span> <span class="fu">factor</span>(jcf2) <span class="sc">*</span> (mean <span class="sc">+</span> sd) <span class="sc">*</span> <span class="fu">Arguments</span>(<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">fmt =</span> <span class="st">"%.2f"</span>,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> data.jcf)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_uy949959h4oavhy4bb3w</title>
    <style>
.table td.tinytable_css_0yqui8arvthnnaij9ef1, .table th.tinytable_css_0yqui8arvthnnaij9ef1 {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_ukc1i0cwccjhb5l4ab8z, .table th.tinytable_css_ukc1i0cwccjhb5l4ab8z {    text-align: center; }
.table td.tinytable_css_e720ix5ul3bi6bxq6q3z, .table th.tinytable_css_e720ix5ul3bi6bxq6q3z {    border-bottom: solid 0.05em #d3d8dc; }
.table td.tinytable_css_5xe7d12sfomkvakifpbz, .table th.tinytable_css_5xe7d12sfomkvakifpbz {    text-align: left; }
.table td.tinytable_css_nsm4ic8ojq4q5rlj93up, .table th.tinytable_css_nsm4ic8ojq4q5rlj93up {    text-align: right; }
.table td.tinytable_css_z261pgkmdgmp48wxpkbq, .table th.tinytable_css_z261pgkmdgmp48wxpkbq {    text-align: right; }
.table td.tinytable_css_8yx6d37d5wsd4hfgrjoa, .table th.tinytable_css_8yx6d37d5wsd4hfgrjoa {    text-align: right; }
.table td.tinytable_css_9ltpkdrsqv2xns0bnvxl, .table th.tinytable_css_9ltpkdrsqv2xns0bnvxl {    text-align: right; }
.table td.tinytable_css_a5hsnuz8yllzs268itjn, .table th.tinytable_css_a5hsnuz8yllzs268itjn {    text-align: center; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_uy949959h4oavhy4bb3w" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
<tr>
<th scope="col" align="center" colspan="1"> </th>
<th scope="col" align="center" colspan="2">0</th>
<th scope="col" align="center" colspan="2">1</th>
</tr>

              <tr>
                <th scope="col"> </th>
                <th scope="col">mean</th>
                <th scope="col">sd</th>
                <th scope="col">mean</th>
                <th scope="col">sd</th>
              </tr>
        </thead>

        <tbody>
                <tr>
                  <td>ingtot_tri </td>
                  <td>1510.36</td>
                  <td>8478.60</td>
                  <td>9643.06</td>
                  <td>6632.56</td>
                </tr>
                <tr>
                  <td>mujer      </td>
                  <td>0.76   </td>
                  <td>0.43   </td>
                  <td>0.59   </td>
                  <td>0.49   </td>
                </tr>
                <tr>
                  <td>indigena   </td>
                  <td>0.22   </td>
                  <td>0.41   </td>
                  <td>0.59   </td>
                  <td>0.49   </td>
                </tr>
                <tr>
                  <td>rural      </td>
                  <td>0.40   </td>
                  <td>0.49   </td>
                  <td>0.35   </td>
                  <td>0.48   </td>
                </tr>
                <tr>
                  <td>escoacum   </td>
                  <td>10.39  </td>
                  <td>3.23   </td>
                  <td>12.03  </td>
                  <td>2.70   </td>
                </tr>
                <tr>
                  <td>casadounion</td>
                  <td>0.53   </td>
                  <td>0.50   </td>
                  <td>0.41   </td>
                  <td>0.49   </td>
                </tr>
                <tr>
                  <td>jefehog    </td>
                  <td>0.06   </td>
                  <td>0.23   </td>
                  <td>0.14   </td>
                  <td>0.35   </td>
                </tr>
                <tr>
                  <td>haymenores </td>
                  <td>0.66   </td>
                  <td>0.47   </td>
                  <td>0.54   </td>
                  <td>0.50   </td>
                </tr>
                <tr>
                  <td>proggob    </td>
                  <td>0.19   </td>
                  <td>0.39   </td>
                  <td>0.21   </td>
                  <td>0.41   </td>
                </tr>
                <tr>
                  <td>tot_integ  </td>
                  <td>4.82   </td>
                  <td>1.97   </td>
                  <td>4.25   </td>
                  <td>2.00   </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_xz4jsovqyj368hcdqj43(i, j, css_id) {
        var table = document.getElementById("tinytable_uy949959h4oavhy4bb3w");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_uy949959h4oavhy4bb3w');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_xz4jsovqyj368hcdqj43(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_uy949959h4oavhy4bb3w");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(1, 0, 'tinytable_css_0yqui8arvthnnaij9ef1') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(1, 1, 'tinytable_css_0yqui8arvthnnaij9ef1') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(1, 2, 'tinytable_css_0yqui8arvthnnaij9ef1') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(1, 3, 'tinytable_css_0yqui8arvthnnaij9ef1') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(1, 4, 'tinytable_css_0yqui8arvthnnaij9ef1') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 0, 'tinytable_css_ukc1i0cwccjhb5l4ab8z') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 1, 'tinytable_css_ukc1i0cwccjhb5l4ab8z') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 2, 'tinytable_css_ukc1i0cwccjhb5l4ab8z') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 3, 'tinytable_css_ukc1i0cwccjhb5l4ab8z') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 4, 'tinytable_css_ukc1i0cwccjhb5l4ab8z') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 1, 'tinytable_css_e720ix5ul3bi6bxq6q3z') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 2, 'tinytable_css_e720ix5ul3bi6bxq6q3z') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(1, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(2, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(3, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(4, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(5, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(6, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(7, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(8, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(9, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(10, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(11, 0, 'tinytable_css_5xe7d12sfomkvakifpbz') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(1, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(2, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(3, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(4, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(5, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(6, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(7, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(8, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(9, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(10, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(11, 1, 'tinytable_css_nsm4ic8ojq4q5rlj93up') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(1, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(2, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(3, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(4, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(5, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(6, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(7, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(8, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(9, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(10, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(11, 2, 'tinytable_css_z261pgkmdgmp48wxpkbq') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(1, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(2, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(3, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(4, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(5, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(6, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(7, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(8, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(9, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(10, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(11, 3, 'tinytable_css_8yx6d37d5wsd4hfgrjoa') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(1, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(2, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(3, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(4, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(5, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(6, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(7, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(8, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(9, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(10, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(11, 4, 'tinytable_css_9ltpkdrsqv2xns0bnvxl') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 0, 'tinytable_css_a5hsnuz8yllzs268itjn') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 1, 'tinytable_css_a5hsnuz8yllzs268itjn') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 2, 'tinytable_css_a5hsnuz8yllzs268itjn') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 3, 'tinytable_css_a5hsnuz8yllzs268itjn') })
window.addEventListener('load', function () { styleCell_tinytable_xz4jsovqyj368hcdqj43(0, 4, 'tinytable_css_a5hsnuz8yllzs268itjn') })
    </script>

  


</div>
</div>
<p><em>Claramente los individuos que participan en el programa son diferentes a los que no. En el programa hay una proporción menor de mujeres que en el grupo no tratado; en el grupo tratado hay un nivel mayor de escolaridad acumulada; y los individuos del grupo tratado viven en hogares más pequeños que los del grupo no tratado. Entre muchas otras diferencias.</em></p>
<p><em>El problema entonces es que existen factores que influyen en la probabilidad de recibir el tratamiento y en el ingreso, por lo que una comparación simple de individuos tratados y no tratados confundirá el efecto del tratamiento.</em></p></li>
<li><p>[5 puntos] Estime el TOT (TT o ATT) del programa en el ingreso trimestral, <strong>ingtot_tri</strong> usando el algoritmo de <em>vecino más cercano</em>. Para estimar el impacto en el ingreso trimestral se comparan a los beneficiarios de JCF con los jóvenes que no asisten a la escuela y no están empleados. Los beneficiarios tienen <em>jcf2==1</em> y los jóvenes que no asisten a la escuela y no están empleados tienen <em>jcf2==0</em>. Escoja la especificación del <em>propensity score</em> que más le parezca adecuada. Realice la inferencia estadística con errores agrupados a nivel grupo de emparejamiento. ¿De qué tamaño es el TOT estimado y es este efecto estadísticamente significativo?</p>
<p><em>Este es el modelo para el propensity score que yo escogí:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>sub.data <span class="ot">&lt;-</span> data.jcf <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">select</span>(ingtot_tri, jcf2, mujer, indigena, cve_ent, rural, escoacum, casadounion,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    jefehog, haymenores, proggob, tot_integ, factor.x)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>sub.data <span class="ot">&lt;-</span> sub.data[<span class="fu">complete.cases</span>(sub.data), ]</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>m.out.a <span class="ot">&lt;-</span> <span class="fu">matchit</span>(<span class="at">formula=</span>jcf2 <span class="sc">~</span> mujer <span class="sc">+</span> indigena <span class="sc">+</span> <span class="fu">factor</span>(cve_ent) <span class="sc">+</span> rural  <span class="sc">+</span> escoacum <span class="sc">+</span> casadounion <span class="sc">+</span> jefehog <span class="sc">+</span> haymenores <span class="sc">+</span> proggob <span class="sc">+</span> tot_integ,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">"nearest"</span>,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">distance=</span> <span class="st">"glm"</span>,</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">replace =</span> <span class="cn">FALSE</span>,</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> sub.data)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Estimamos el efecto del tratamiento:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>tt1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(ingtot_tri <span class="sc">~</span> jcf2,</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> <span class="fu">match.data</span>(m.out.a))</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Errores agrupados a nivel subclass</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="fu">coeftest</span>(tt1,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">vcov. =</span> vcovCL,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cluster =</span> <span class="sc">~</span>subclass)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
t test of coefficients:

            Estimate Std. Error t value  Pr(&gt;|t|)    
(Intercept)  1669.95     407.99  4.0931 5.735e-05 ***
jcf2         7973.11     708.27 11.2572 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p><em>Se estima un efecto de 7973 pesos adicionales de ingreso trimestral para los participantes en el programa.</em></p></li>
<li><p>[5 puntos] En el matching de la parte b., evalúe qué tan bueno es el procedimiento en balancear las características observadas una vez realizado el matching. Cree un <em>love plot</em> para evaluar qué tan bueno es el procedimiento de matching para obtener una muestra balanceada.</p>
<p><em>bal.tab del paquete cobalt nos permite ver un resumen del balance:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Con esto elimino las dummies de estado de la salida</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bal.tab</span>(m.out.a, <span class="at">m.threshold=</span><span class="fl">0.1</span>, <span class="at">un=</span>T)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Balance Measures
                       Type Diff.Un Diff.Adj        M.Threshold
distance           Distance  1.1091   0.0881     Balanced, &lt;0.1
mujer                Binary -0.1660   0.0551     Balanced, &lt;0.1
indigena             Binary  0.3714   0.0551     Balanced, &lt;0.1
factor(cve_ent)_01   Binary -0.1720  -0.0157     Balanced, &lt;0.1
factor(cve_ent)_02   Binary -0.3428  -0.0079     Balanced, &lt;0.1
factor(cve_ent)_03   Binary  0.0168   0.0079     Balanced, &lt;0.1
factor(cve_ent)_04   Binary  0.5524   0.0157     Balanced, &lt;0.1
factor(cve_ent)_05   Binary -0.0544   0.0000     Balanced, &lt;0.1
rural                Binary -0.0553   0.0709     Balanced, &lt;0.1
escoacum            Contin.  0.6086  -0.2096 Not Balanced, &gt;0.1
casadounion          Binary -0.1170   0.0709     Balanced, &lt;0.1
jefehog              Binary  0.0831   0.0551     Balanced, &lt;0.1
haymenores           Binary -0.1193   0.0787     Balanced, &lt;0.1
proggob              Binary  0.0220   0.0079     Balanced, &lt;0.1
tot_integ           Contin. -0.2856   0.0158     Balanced, &lt;0.1

Balance tally for mean differences
                   count
Balanced, &lt;0.1        14
Not Balanced, &gt;0.1     1

Variable with the greatest mean difference
 Variable Diff.Adj        M.Threshold
 escoacum  -0.2096 Not Balanced, &gt;0.1

Sample sizes
          Control Treated
All          1894     127
Matched       127     127
Unmatched    1767       0</code></pre>
</div>
</div>
<p><em>Y finalmente el loveplot:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>m.out.a[[<span class="st">"X"</span>]][[<span class="st">"factor(cve_ent)"</span>]] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">love.plot</span>(<span class="fu">bal.tab</span>(m.out.a),</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">threshold =</span> .<span class="dv">1</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tarea-3-respuestas_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><em>Parece haber un buen balance, aunque la educación es la única variable que no queda bien balanceada. Después del emparejamiento, las medias (estandarizadas) entre tratados y no tratados difieren en más de 0.1.</em></p></li>
<li><p>[5 puntos] Estime ahora el TOT en el ingreso trimestral, como en la parte b., pero usando un caliper de 0.05 y 5 vecinos a ser emparejados. ¿Cómo cambian sus resultados respecto a los de la parte b.?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>sub.data <span class="ot">&lt;-</span> data.jcf <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(ingtot_tri, jcf2, mujer, indigena, cve_ent, rural, escoacum, </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>           casadounion, jefehog, haymenores, proggob, tot_integ, factor.x)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>sub.data <span class="ot">&lt;-</span> sub.data[<span class="fu">complete.cases</span>(sub.data), ] </span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>m.out.c <span class="ot">&lt;-</span> <span class="fu">matchit</span>(<span class="at">formula=</span>jcf2 <span class="sc">~</span> mujer <span class="sc">+</span> indigena <span class="sc">+</span> <span class="fu">factor</span>(cve_ent) <span class="sc">+</span> rural  <span class="sc">+</span> escoacum <span class="sc">+</span> casadounion <span class="sc">+</span> jefehog <span class="sc">+</span> haymenores <span class="sc">+</span> proggob <span class="sc">+</span> tot_integ,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">"nearest"</span>,</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">distance=</span> <span class="st">"glm"</span>,</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">ratio =</span> <span class="dv">5</span>,</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">caliper =</span> <span class="fl">0.05</span>,</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">replace =</span> <span class="cn">FALSE</span>,</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> sub.data)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Estimamos el efecto del tratamiento:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>tt3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(ingtot_tri <span class="sc">~</span> jcf2,</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> <span class="fu">match.data</span>(m.out.c))</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Errores agrupados a nivel subclass</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="fu">coeftest</span>(tt3,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">vcov. =</span> vcovCL,</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">cluster =</span> <span class="sc">~</span>subclass)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
t test of coefficients:

            Estimate Std. Error t value  Pr(&gt;|t|)    
(Intercept)  2135.55     372.22  5.7374 1.717e-08 ***
jcf2         7155.74     699.21 10.2341 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p><em>Se estima ahora un efecto de 7155 pesos, menor al efecto de 7973 pesos estimado en la parte b.</em></p></li>
</ol>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Notas</h2>

<ol>
<li id="fn1"><p>Stevenson, B. &amp; Wolfers, J. (2006). Bargaining in the Shadow of the Law: Divorce Laws and Family Distress. <em>The Quarterly Journal of Economics</em>, 121(1), 267-288.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>