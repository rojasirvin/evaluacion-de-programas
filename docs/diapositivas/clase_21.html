<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-contrib/bootstrap-icons-1.13.1/bootstrap-icons.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>Inferencia Causal 2025 – clase_21</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-8b940f0b0c37e8b60983ca0a0adffd2d.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="clase-21.-discontinuidades-difusas" class="title-slide slide level1 portada center">
<h1>Clase 21. Discontinuidades difusas</h1>
<div style="text-align: center; font-size: 1.2em; font-weight: bold;">
<p>Inferencia Causal</p>
</div>
<div style="text-align: center; margin-top: 1em;">
<p><strong>Irvin Rojas</strong><br>
<br> <a href="https://rojasirvin.com" style="color: #ffffff;">rojasirvin.com</a></p>
</div>
<div style="text-align: center; margin-top: 1em;">
<p><a href="https://github.com/rojasirvin" target="_blank" style="margin-right: 0 10px;"> <i class="bi-github " style="" role="img" aria-hidden="true"></i> </a> <a href="https://twitter.com/RojasIrvin" target="_blank" style="margin-right: 0 10px;"> <i class="bi-twitter " style="" role="img" aria-hidden="true"></i> </a> <a href="https://scholar.google.com/citations?user=FUwdSTMAAAAJ&amp;hl=en" style="margin: 0 10px;"> <i class="bi-google " style="" role="img" aria-hidden="true"></i> </a></p>
</div>
<p><strong>Centro de Investigación y Docencia Económicas</strong> División de Economía</p>
<div class="cell">
<style type="text/css">
.huge .remark-code { /*Change made here*/
  font-size: 200% !important;
}
.tiny .remark-code { /*Change made here*/
  font-size: 60% !important;
}

</style>
</div>
</section>

<section id="motivación" class="title-slide slide level1 center">
<h1>Motivación</h1>
<ul>
<li><p>Los diseños con discontinuidades nos permiten explotar cambios discretos en la elegibilidad y/o participación en programas o intervenciones basadas en una regla</p></li>
<li><p>Las regresiones nítidas implican que <span class="math inline">\(D_i\)</span> es determinística con respecto al corte <span class="math inline">\(x_0\)</span></p></li>
<li><p>Cuando la relación no es determinística, otras diseños son posibles de implementar</p></li>
</ul>
</section>

<section id="discontinuidad-en-la-regresión-difusa" class="title-slide slide level1 inverse center middle">
<h1>Discontinuidad en la regresión difusa</h1>

</section>

<section id="discontinuidad-en-la-regresión-difusa-1" class="title-slide slide level1 center">
<h1>Discontinuidad en la regresión difusa</h1>
<ul>
<li><p>Hasta ahora hemos tratado con una regla determinística que determina el tratamiento en función de la variable de asignación</p></li>
<li><p>Alrededor de una regla de asignación puede haber individuos que decidan o no participar</p></li>
<li><p>En este caso, la discontinuidad afecta la intensidad del tratamiento o las probabilidades de recibirlo, en vez de generar un simple encendido-apagado</p></li>
</ul>
</section>

<section id="la-relga-de-maimonides" class="title-slide slide level1 center">
<h1>La relga de Maimonides</h1>
<ul>
<li><p>Angrist, J. D., y Lavy, V. (1999), Using Maimonides’ rule to estimate the effect of class size on scholastic achievement</p></li>
<li><p>¿Efecto del tamaño de clase en el desempeño de los alumnos?</p></li>
<li><p>Un problema fundamental en la economía de la educación</p></li>
<li><p>La regla de Maimonides permite generar variación útil para resolver esta pregunta</p></li>
</ul>
<div class="fragment">
<blockquote>
<p><em>“Un maestro estará a cargo de 25 niños. Si el número de niños en la clase excede 25 pero no es mayor que 40, deberá tener un asistente para ayudarle en la clase. Si hay más de 40, se deberán asignar dos maestros.”</em></p>
<p>— Maimonides, Capítulo 2, Las reglas del estudio de la Torá, Mishné Torá.</p>
</blockquote>
</div>
</section>

<section id="tamaño-de-la-clase-en-israel" class="title-slide slide level1 center">
<h1>Tamaño de la clase en Israel</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>En Israel, el tamaño de la clase está limitado a 40 estudiantes</p></li>
<li><p>Grados con 41 estudiantes son partidas en dos grupos</p></li>
<li><p>Grados con 81 estudiantes son partidas en tres grupos</p></li>
</ul>
<p><span class="math display">\[
m_{sc}=\frac{e_s}{int\left[\frac{(e_s-1)}{40}+1\right]}
\]</span></p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/RDfuzzy_maimonides.png" style="width:70.0%"></p>
<figcaption>Fuente: Angrist &amp; Pischke (2009)</figcaption>
</figure>
</div>
</div>
</div>
</div></div>
</section>

<section id="rd-difusa-vi" class="title-slide slide level1 center">
<h1>RD difusa + VI</h1>
<ul>
<li>Se estima una ecuación por MC2E:</li>
</ul>
<p><span class="math display">\[Y_{isc}=\alpha_0+ \alpha_1 d_s +\beta_1 e_s + \beta_2 e_s^2+\ldots+\beta_p e_s^p + \rho n_{sc} + \nu_{isc}\]</span></p>
<ul>
<li><p>Donde <span class="math inline">\(Y_{isc}\)</span> es la calificación en una prueba de matemáticas del estudiante <span class="math inline">\(i\)</span> en la escuela <span class="math inline">\(s\)</span> y en el grupo <span class="math inline">\(c\)</span></p></li>
<li><p><span class="math inline">\(n_{sc}\)</span> es el tamaño del grupo</p></li>
<li><p><span class="math inline">\(m_{sc}\)</span> es el tamaño del grupo que predice la regla de Maimonides y se usa como instrumento de <span class="math inline">\(n_{sc}\)</span></p></li>
<li><p><span class="math inline">\(e_s\)</span> es el número de alumnos, el <em>score</em> de esta aplicación</p></li>
<li><p><span class="math inline">\(d_s\)</span> proporción de estudiantes desaventajados (no es estrictamente necesario para el RD, es un control)</p></li>
</ul>
</section>

<section id="m_sc-como-vi" class="title-slide slide level1 center">
<h1><span class="math inline">\(m_{sc}\)</span> como VI</h1>
<ul>
<li><p><span class="math inline">\(m_{sc}\)</span> no predice el tamaño de clase de forma perfecta</p></li>
<li><p>Este instrumento implícitamente combina la discontinuidades y los cambios de pendiente en cada discontinuidad de una forma compacta</p></li>
<li><p>En otras aplicaciones esto se logra parametrizando las funciones de manera flexible</p></li>
</ul>
</section>

<section id="efectos-estimados" class="title-slide slide level1 center">
<h1>Efectos estimados</h1>

<img data-src="figures/RDfuzzy_maimonides_regression.png" style="width:70.0%" class="r-stretch quarto-figure-center"><p class="caption">Fuente: Angrist &amp; Pischke (2009)</p></section>

<section id="la-ilusión-de-la-élite" class="title-slide slide level1 inverse center middle">
<h1>La ilusión de la élite</h1>

</section>

<section id="la-ilusión-de-la-élite-1" class="title-slide slide level1 center">
<h1>La ilusión de la élite</h1>
<ul>
<li><p>Escuelas de élite, <em>exam schools</em>, altamente competitivas en Nueva York y Boston</p></li>
<li><p>Bajas tasas de admisión</p></li>
<li><p>¿Cómo diferenciar el valor agregado de la escuela del hecho de que la acta selectividad hace que a estas escuelas asistan solo los alumnos más brillantes?</p></li>
<li><p>¡Ojalá pudiéramos asignar alumnos al azar!</p></li>
<li><p>Los estudiantes en estas escuelas de élite comparten clases con estudiantes aventajados</p></li>
</ul>
</section>

<section id="la-regla-de-asignación" class="title-slide slide level1 center">
<h1>La regla de asignación</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Cada escuela tiene un <em>corte</em> de puntaje de admisión</p></li>
<li><p>En la escuela más competitiva de Boston aquellos estudiantes debajo del corte nunca asisten a dicha escuela</p></li>
<li><p>Los que están arriba del corte casi siempre acaban en la BLS</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/RDfuzzy_enrollment_BLS.png" style="width:100.0%"></p>
<figcaption>Fuente: Angrist &amp; Pischke (2014)</figcaption>
</figure>
</div>
</div>
</div>
</div></div>
</section>

<section id="la-regla-de-asignación-1" class="title-slide slide level1 center">
<h1>La regla de asignación</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Sin embargo, aquellos que no alcanzan el puntaje mínimo de la BLS acaban de cualquier forma en una escuela de élite</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/RDfuzzy_enrollment_any.png" style="width:100.0%"></p>
<figcaption>Fuente: Angrist &amp; Pischke (2014)</figcaption>
</figure>
</div>
</div>
</div>
</div></div>
</section>

<section id="la-regla-de-asignación-2" class="title-slide slide level1 center">
<h1>La regla de asignación</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Hay una dimensión que genera una discontinuidad: efectos de pares o <em>peer effects</em></p></li>
<li><p>Es una de las preocupaciones más importantes de política educativa en casi cualquier país</p></li>
<li><p>Tener buenos (malos) compañeros afecta los resultados del individuo <span class="math inline">\(i\)</span></p></li>
<li><p>Quienes ingresan a la BLS (séptimo grado) tuvieron compañeros con mejor desempeño en matemáticas cuando iban en cuarto grado</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/RDfuzzy_enrollment_peers.png" style="width:100.0%"></p>
<figcaption>Fuente: Angrist &amp; Pischke (2014)</figcaption>
</figure>
</div>
</div>
</div>
</div></div>
</section>

<section id="modelo-de-efectos-de-pares" class="title-slide slide level1 center">
<h1>Modelo de efectos de pares</h1>
<ul>
<li>Un modelo de efectos de pares:</li>
</ul>
<p><span class="math display">\[Y_i=\theta_0+\theta_1\bar{X}_{(i)}+\theta_2 X_i + u_i\]</span></p>
<ul>
<li><p><span class="math inline">\(Y_i\)</span> es el resultado de un examen de matemáticas en el séptimo año del individuo <span class="math inline">\(i\)</span></p></li>
<li><p><span class="math inline">\(X_i\)</span> es el resultado de un examen de matemáticas en el cuarto año del individuo <span class="math inline">\(i\)</span></p></li>
<li><p><span class="math inline">\(\bar{X}_{(i)}\)</span> es el resultado promedio de un examen de matemáticas en el cuarto año de los compañeros de <span class="math inline">\(i\)</span> sin incluir <span class="math inline">\(i\)</span></p></li>
<li><p>Otra notación en la literatura escribe esto como <span class="math inline">\(\bar{X}_{(-i)}\)</span></p></li>
<li><p>Los resultados están estandarizados por lo que los coeficientes se interpretan en términos de desviaciones estándar: <span class="math inline">\(\hat{\theta}_1=0.25\sigma\)</span></p></li>
</ul>
</section>

<section id="rd-difuso-vi" class="title-slide slide level1 center">
<h1>RD difuso + VI</h1>
<ul>
<li><p>Problemas</p>
<ul>
<li><p>Sabemos que en la discontinuidad, la calidad de los pares cambia drásticamente</p></li>
<li><p>Características de los hogares (habilidad de los padres)</p></li>
<li><p>Doble causalidad: <span class="math inline">\(i\)</span> afecta a <span class="math inline">\(j\)</span> pero <span class="math inline">\(j\)</span> afecta a <span class="math inline">\(i\)</span> a la vez</p></li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li><p>Variables instrumentales:</p>
<ul>
<li><p>Queremos conocer el efecto de la calidad de los pares en el desempeño de matemáticas</p></li>
<li><p>Usamos el corte mínimo para ser aceptado en BLS como instrumento de la calidad de los pares</p></li>
</ul></li>
</ul>
</div>
</section>

<section id="forma-reducida" class="title-slide slide level1 center">
<h1>Forma reducida</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Si solo usamos el corte para ser aceptado en BLS:</li>
</ul>
<p><span class="math display">\[Y_i=\alpha_0+\rho D_i + \beta_0 R_i + \epsilon_i\]</span></p>
<ul>
<li><p>Se obtiene <span class="math inline">\(\hat{\rho}=-0.02\)</span>, <span class="math inline">\(s.e.=0.10\)</span></p></li>
<li><p>Este es un modelo de forma reducida (variable de interés en función de la posición respecto al corte)</p></li>
<li><p>Es el efecto causal de estar antes o después del corte</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/RDfuzzy_reducedform.png" style="width:100.0%"></p>
<figcaption>Fuente: Angrist &amp; Pischke (2014)</figcaption>
</figure>
</div>
</div>
</div>
</div></div>
</section>

<section id="modelo-de-vi" class="title-slide slide level1 center">
<h1>Modelo de VI</h1>
<ul>
<li>Modelo estructural:</li>
</ul>
<p><span class="math display">\[Y_i=\alpha_2+\lambda \bar{X}_{(i)} + \beta_2 R_i + \epsilon_{2i}\]</span></p>
<ul>
<li>Con una primera etapa</li>
</ul>
<p><span class="math display">\[\bar{X}_{(i)}=\alpha_1 + \phi D_i + \beta_1 R_i + \epsilon_{1i}\]</span></p>
<ul>
<li><p>En la primera etapa <span class="math inline">\(\hat{\phi}=0.80\sigma\)</span>, como lo habíamos visto ya en la Figura 4.8</p></li>
<li><p>En la segunda etapa <span class="math inline">\(\hat{\lambda}=-0.023\)</span>, <span class="math inline">\((s.e.=0.13)\)</span></p></li>
</ul>
</section>

<section id="modelo-de-vi-1" class="title-slide slide level1 center">
<h1>Modelo de VI</h1>

<img data-src="figures/RDfuzzy_enrollment_peers.png" style="width:54.0%" class="r-stretch quarto-figure-center"><p class="caption">Fuente: Angrist &amp; Pischke (2014)</p></section>

<section id="la-ilusión" class="title-slide slide level1 center">
<h1>La ilusión</h1>
<ul>
<li><p>No hay tal ganancia por compartir clase con alumnos <em>brillantes</em></p></li>
<li><p>La gente sigue percibiendo que sus hijos ganan al ir a escuelas de élite</p></li>
<li><p>Posiblemente los egresados de estas escuelas tengan mayores ingresos</p></li>
<li><p>Las ganancias que se puedan obtener no son vía el efecto de pares o un mejor rendimiento cognitivo</p></li>
</ul>
</section>

<section id="rd-difusa-resumen" class="title-slide slide level1 inverse center middle">
<h1>RD difusa: resumen</h1>

</section>

<section id="rd-difusa-resumen-1" class="title-slide slide level1 center">
<h1>RD difusa: resumen</h1>
<ul>
<li><p>RD difusa explota discontinuidades en la probabilidad o valor esperado del tratamiento condicional en una variable</p></li>
<li><p>El resultado es que la discontinuidad se convierte en una VI para el estado del tratamiento en vez de una variable que se prende y apaga</p></li>
</ul>
<p><span class="math display">\[
P(D_i =1|x_i)=
\begin{cases}
g_1(x_i)  &amp; \mbox{if } x_i \geq x_0 \\
g_0(x_i)  &amp; \mbox{if } x_i &lt; x_0
\end{cases}
\]</span></p>
<ul>
<li><p>Las funciones <span class="math inline">\(g_0\)</span> u <span class="math inline">\(g_1\)</span> difieren en <span class="math inline">\(x_0\)</span></p></li>
<li><p>Supongamos que <span class="math inline">\(g_1(x_0)&gt;g_0(x_0)\)</span>, es decir, <span class="math inline">\(x_i\geq x_0\)</span> hace el tratamiento más probable</p></li>
</ul>
</section>

<section id="rd-difusa-resumen-2" class="title-slide slide level1 center">
<h1>RD difusa: resumen</h1>
<ul>
<li>La relación entre el estado de tratamiento y <span class="math inline">\(x_i\)</span> puede ser escrita como:</li>
</ul>
<p><span class="math display">\[E(D_i|x_i)=P(D_i=1|x_i)=g_0(x_i)+[g_1(x_i)-g_0(x_i)]T_i\]</span></p>
<p>con <span class="math inline">\(T_i=\mathcal{I}(x_i\geq x_0)\)</span></p>
<ul>
<li>Escribiendo las funciones <span class="math inline">\(g_0\)</span> y <span class="math inline">\(g_1\)</span> como polinomios flexibles de <span class="math inline">\(x_i\)</span></li>
</ul>
<p><span class="math display">\[E(D_i|x_i)=\gamma_{00}+\gamma_{01}x_i+\gamma_{02}x_i+\ldots+\gamma_{0p}x_i^p +\pi T_i + \gamma_{1}^{*}x_i T_i+ \gamma_{2}^{*}x_i^2 T_i+\ldots+ \gamma_{p}^{*}x_i^p T_i\]</span></p>
</section>

<section id="rd-difusa-resumen-3" class="title-slide slide level1 center">
<h1>RD difusa: resumen</h1>
<ul>
<li><p>En la primera etapa podríamos usar <span class="math inline">\(\{x_iTi, x_i^2 T_i,...,x_i^p T_i\}\)</span> como instrumentos para <span class="math inline">\(D_i\)</span></p></li>
<li><p>Una primera etapa con interacciones sugeriría emplear una segunda etapa también con interacciones</p></li>
<li><p>La versión más simple solo usa <span class="math inline">\(T_i\)</span> como instrumento</p></li>
<li><p>La primera etapa será</p></li>
</ul>
<p><span class="math display">\[D_i=\gamma_0+\gamma_1 x_i + \gamma_2 x_i^2 + \ldots + \gamma_p x_i^p + \rho T_i + \xi_{i}\]</span></p>
<ul>
<li>La forma reducida o ITT de este modelo es:</li>
</ul>
<p><span class="math display">\[y_i=\beta_0+\beta_1 x_i + \beta_2 x_i^2 + \ldots + \beta_p x_i^p + \delta\ T_i + u_{i}\]</span> - Mientras que la ecuación estructural</p>
<p><span class="math display">\[y_i=\pi_0+\pi_1 x_i + \pi_2 x_i^2 + \ldots + \pi_p x_i^p + \lambda\ D_i + u_{i}\]</span> se estima por MC2E usando <span class="math inline">\(T_i\)</span> como instrumento de <span class="math inline">\(D_i\)</span></p>
</section>

<section id="próxima-sesión" class="title-slide slide level1 center">
<h1>Próxima sesión</h1>
<ul>
<li><p>Veremos tres ejemplos de diseños con discontinuidades</p>
<ul>
<li><p>Del Valle, A., de Janvry, A., &amp; Sadoulet, E. (2020). Rules for recovery: Impact of indexed disaster funds on shock coping in Mexico. <em>American Economic Journal: Applied Economics</em>, 12(4), 164-95.</p></li>
<li><p>Dell, M. (2015). Trafficking networks and the Mexican drug war. <em>American Economic Review</em>, 105(6), 1738-79.</p></li>
<li><p>Aguilar, A., Gutierrez, E., &amp; Seira, E. (2021). The effectiveness of sin food taxes: Evidence from Mexico. <em>Journal of Health Economics</em>, 77, 102455.</p></li>
</ul></li>
<li><p>Finalmente replicaremos en R:</p>
<ul>
<li>Anagol, S., &amp; Fujiwara, T. (2016). The runner-up effect. <em>Journal of Political Economy</em>, 124(4), 927-991.</li>
</ul></li>
</ul>
</section>

<section id="section" class="title-slide slide level1 inverse center middle">
<h1></h1>
<p>Presentación creada usando el paquete <a href="https://github.com/yihui/xaringan"><strong>xaringan</strong></a> en R.</p>
<p>El <em>chakra</em> viene de <a href="https://remarkjs.com">remark.js</a>, <a href="http://yihui.org/knitr"><strong>knitr</strong></a>, y <a href="https://rmarkdown.rstudio.com">R Markdown</a>.</p>
<p>Material de clase en versión preliminar.</p>
<p><strong>No reproducir, no distribuir, no citar.</strong></p>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/122010/logo_cide_verde.png?itok=NUstTkpt" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>